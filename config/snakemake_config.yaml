#########################################################################################
# Global configuration file for the pipeline
#########################################################################################

#########################################################################################
#Folders and Paths
#########################################################################################
#path to iCLIP directory
sourceDir: "PIPELINE_HOME"
#path to output directory
outputDir: "OUTPUT_DIR"
#path to manifest files
sampleManifest: "OUTPUT_DIR/manifests/samples.tsv"
multiplexManifest: "OUTPUT_DIR/manifests/multiplex.tsv"
contrastManifest: "OUTPUT_DIR/manifests/contrasts.tsv"
#path to fastq files
fastqDir: "/path/to/fastq/files/"

########################################################################################
#user parameters
#########################################################################################
filterlength: 20 #minimum read length to include in analysis [any int >20] this is also the novoalign l parameter
multiplexflag: "N" #whether samples are multiplexed ["Y","N"]
mismatch: 1 #if multiplexed, number of bp mismatches allowed in demultiplexing [1,2,3]
reference: "mm10" #reference organism ["hg38","mm10"]
spliceaware: "Y" #whether to run include splice_aware feature for alignment ["Y","N"]
includerRNA: "Y" #if spliceaware, include refseq rRNA's in annotations ["Y", "N"]
spliceBPlength: 75 #if spliceaware Y, length of splice index to use [50, 75, 150]
splicejunction: "Y" #if spliceaware Y, include splice junctions in peak calls for DE_METHOD MANORM or DIFFBIND ["Y", "N"]
AnnoAnchor: "max_total" #Annotations for spliced peaks will be based on either 5' most region or region with max reads ["max","5prime"]
mincount: 3 #minimum number of reads to count as a peak [1,2,3]
ntmerge: 10 #minimum distance of nucleotides to merge peaks [any integer >=1, default 10]
peakid: "ALL" #report peaks for unique peaks only or unique and fractional mm ["unique","all"]
DEmethod: "none" #choose DE method ["none", "manorm", "diffbind"]
sampleoverlap: 1 #if DEmethod DIFFBIND, minimum number of samples a peak must be found in to be counted [>1]
pval: 0.005 #if DEmethod, pval cutoff for significance
fc: 1 #if DEmethod, fold change cut off for significance
splitSampleNChunks: 96 #split samples into N chunks to speed up compute heavy tasks like alignment [1 - 99]

#########################################################################################
# novoalign parameters "test5" --> new iCLIP pipeline defaults
#########################################################################################
novoalign_x: 6
novoalign_g: 40
novoalign_s: 2
novoalign_t: "20,3"
novoalign_R: 5
novoalign_r_mode: "EXHAUSTIVE"
novoalign_r_int: 999 # integer represents number of alignments to be reported out

#########################################################################################
# novoalign parameters old iCLIP pipeline defaults
#########################################################################################
#novoalign_x: 4
#novoalign_g: 20
#novoalign_s: 1
#novoalign_t: "15,3"
#novoalign_R: 0
#novoalign_r_mode: "EXHAUSTIVE"
#novoalign_r_int: 999 # integer represents number of alignments to be reported out

#########################################################################################
# Useq parameters
#########################################################################################
useq_a: 50000
useq_n: 999 # trying to match this to novoalign_r_exhaustive_int .... was set to 25 earlier

#########################################################################################
#modules, container parameters
#########################################################################################
containerDir: "/data/CCBR_Pipeliner/iCLIP/container"
fastq_val: "/data/CCBR_Pipeliner/iCLIP/bin/fastQValidator"
bedtools: "bedtools/2.29.2"
bowtie2: "bowtie/2-2.3.4"
fastq_screen: "fastq_screen/0.14.0"
fastqc: "fastqc/0.11.9"
java: "java/12.0.1"
manorm: "manorm/1.1.4"
multiqc: "multiqc/1.9"
novocraft: "novocraft/4.03.01"
perl: "perl/5.24.3"
python: "python/3.8"
Qt: "Qt/5.13.2"
singularity: "singularity"
samtools: "samtools/1.11"
umitools: "umitools/1.1.1"
subread: "subread/2.0.1"
R: "R/4.0"

#testing parameter
testing_option: "N"
